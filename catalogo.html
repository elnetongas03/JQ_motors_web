<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JQ Motors | Catálogo</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style/main.css">

<style>
body { margin:0; font-family:'Montserrat', sans-serif; background:#111; color:#eee; }
h1 { text-align:center; margin:20px 0; }

.container { display:flex; max-width:1200px; margin:0 auto; gap:20px; padding:0 10px; }

/* Sidebar */
.sidebar {
  width:220px; background:#222; padding:15px; border-radius:10px;
  max-height:80vh; overflow-y:auto;
}
.sidebar h2 { margin-top:0; font-size:1.2rem; text-align:center; }
.sidebar ul { list-style:none; padding:0; }
.sidebar li {
  margin:10px 0; cursor:pointer; padding:10px; border-radius:5px;
  text-align:left; background:#7B1E1E; font-weight:600;
  display:flex; align-items:center; gap:8px;
  transition: background 0.3s, transform 0.2s;
}
.sidebar li:hover, .sidebar li.active { background:#9B2A2A; transform:scale(1.05); }
.cat-icon { width:24px; height:24px; }

/* Productos */
.productos {
  flex:1; display:grid;
  grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}
.producto-card { 
  background:#fff; border-radius:10px; padding:10px;
  text-align:center; box-shadow:0 3px 8px rgba(0,0,0,0.1);
  transition: transform 0.2s;
}
.producto-card:hover { transform:scale(1.05); }
.producto-card img { width:100%; height:180px; object-fit:cover; border-radius:5px; }
.producto-card .info { margin-top:10px; }
.producto-card h3 { margin:0; color:#7B1E1E; font-size:1rem; }
.producto-card p { color:#333; font-size:0.9rem; }

#buscador {
  width:90%; max-width:300px; padding:8px; border-radius:5px;
  border:none; margin:10px auto; display:block; background:#333; color:#eee;
}

@media(max-width:768px) {
  .container { flex-direction:column; }
  .sidebar { width:100%; display:flex; justify-content:center; }
  .sidebar ul { display:flex; gap:10px; flex-wrap:wrap; }
  .sidebar li { flex:1; justify-content:center; }
  .productos { grid-template-columns: repeat(auto-fill,minmax(160px,1fr)); }
}
</style>
</head>
<body>

<h1>Catálogo de Refacciones</h1>

<div class="container">
  <div class="sidebar">
    <h2>Categorías</h2>
    <ul>
      <li class="active" data-cat="todos"><img src="images/categorias/todos.png" class="cat-icon">Todos</li>
      <li data-cat="tornilleria"><img src="images/categorias/tornilleria.png" class="cat-icon">Tornillería</li>
      <li data-cat="balatas"><img src="images/categorias/balatas.png" class="cat-icon">Balatas</li>
      <li data-cat="retenes"><img src="images/categorias/retenes.png" class="cat-icon">Retenes</li>
      <li data-cat="filtro-aceite"><img src="images/categorias/filtro-aceite.png" class="cat-icon">Filtro Aceite</li>
      <li data-cat="filtro-aire"><img src="images/categorias/filtro-aire.png" class="cat-icon">Filtro Aire</li>
      <li data-cat="filtro-gasolina"><img src="images/categorias/filtro-gasolina.png" class="cat-icon">Filtro Gasolina</li>
      <li data-cat="juntas"><img src="images/categorias/juntas.png" class="cat-icon">Juntas</li>
      <li data-cat="manijas"><img src="images/categorias/manijas.png" class="cat-icon">Manijas</li>
    </ul>
    <input type="text" id="buscador" placeholder="Buscar productos...">
  </div>

  <div class="productos" id="lista-catalogo"></div>
</div>

<script>
const listaCatalogo = document.getElementById("lista-catalogo");
const buscador = document.getElementById("buscador");

const catalogoData = {
  "tornilleria":[
    {"codigo":"001","descripcion":"Tornillo M8","imagen":"images/catalogo/001.jpg"},
    {"codigo":"002","descripcion":"Tornillo M10","imagen":"images/catalogo/002.jpg"}
  ],
  "balatas":[
    {"codigo":"003","descripcion":"Balata delantera","imagen":"images/catalogo/003.jpg"}
  ],
  "retenes":[
    {"codigo":"004","descripcion":"Retén de aceite","imagen":"images/catalogo/004.jpg"}
  ],
  "filtro-aceite":[
    {"codigo":"005","descripcion":"Filtro de aceite","imagen":"images/catalogo/005.jpg"}
  ],
  "filtro-aire":[
    {"codigo":"006","descripcion":"Filtro de aire","imagen":"images/catalogo/006.jpg"}
  ],
  "filtro-gasolina":[
    {"codigo":"007","descripcion":"Filtro de gasolina","imagen":"images/catalogo/007.jpg"}
  ],
  "juntas":[
    {"codigo":"008","descripcion":"Junta de motor","imagen":"images/catalogo/008.jpg"}
  ],
  "manijas":[
    {"codigo":"009","descripcion":"Manija de freno","imagen":"images/catalogo/009.jpg"}
  ],
  "otros":[]
};

let productosActuales = [];

// Mostrar productos
function mostrarProductos(productos){
  listaCatalogo.innerHTML = "";
  productos.forEach(prod => {
    const card = document.createElement("div");
    card.className = "producto-card";
    const rutaImagen = prod.imagen || "images/catalogo/placeholder.png";
    card.innerHTML = `
      <img src="${rutaImagen}" alt="${prod.descripcion}" onerror="this.src='images/catalogo/placeholder.png'">
      <div class="info">
        <h3>${prod.codigo}</h3>
        <p>${prod.descripcion}</p>
      </div>
    `;
    listaCatalogo.appendChild(card);
  });
}

// Inicializar catálogo mostrando todos
function inicializarCatalogo(){
  let todos = [];
  for(let cat in catalogoData) todos = todos.concat(catalogoData[cat]);
  productosActuales = todos;
  mostrarProductos(productosActuales);
}
inicializarCatalogo();

// Filtrar por categoría
const botones = document.querySelectorAll(".sidebar li");
botones.forEach(btn=>{
  btn.addEventListener("click", ()=>{
    botones.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    const cat = btn.dataset.cat;
    productosActuales = cat==="todos" ? Object.values(catalogoData).flat() : catalogoData[cat] || [];
    mostrarProductos(productosActuales);
    buscador.value = "";
  });
});

// Filtrar por buscador
buscador.addEventListener("input", ()=>{
  const texto = buscador.value.toLowerCase();
  const filtrados = productosActuales.filter(p =>
    p.codigo.toLowerCase().includes(texto) || p.descripcion.toLowerCase().includes(texto)
  );
  mostrarProductos(filtrados);
});
</script>

</body>
</html>
