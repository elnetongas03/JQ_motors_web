<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JQ Motors | Refacciones &amp; Servicio</title>

  <!-- SEO -->
  <meta name="description"
        content="JQ Motors – Refacciones y servicio de motocicletas Bajaj. Promociones, catálogo de piezas y contacto.">

  <!-- Tipografía -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap"
        rel="stylesheet">

  <!-- Estilos (mantienen el look guinda/oscuro) -->
  <style>
    :root{
      --bg:#111;
      --panel:#121212;
      --card:#1b1b1b;
      --muted:#cfcfcf;
      --guinda:#7B1E1E;
      --guinda-2:#A83434;
      --shadow:0 6px 18px rgba(0,0,0,.6);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Montserrat',sans-serif;
      background:var(--bg);
      color:#eee;
      scroll-behavior:smooth;
    }

    /* ---------- NAVBAR ---------- */
    .navbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:var(--guinda);
      padding:10px 18px;
      position:sticky;
      top:0;
      z-index:1000;
    }
    .logo{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo img{
      height:44px;
      display:block;
    }
    .logo h1{
      margin:0;
      font-size:1rem;
      color:#fff;
    }
    .navbar nav ul{
      list-style:none;
      display:flex;
      gap:14px;
      margin:0;
      padding:0;
      align-items:center;
    }
    .navbar a{
      color:#fff;
      text-decoration:none;
      font-weight:600;
      padding:6px 8px;
    }
    .navbar a:hover,
    .navbar a.active{
      border-bottom:2px solid #fff;
    }

    /* ---------- SLIDER ---------- */
    .slider{
      position:relative;
      width:100%;
      height:32vh;
      overflow:hidden;
    }
    .slide{
      display:none;
      position:absolute;
      inset:0;
    }
    .slide.active{
      display:block;
    }
    .slide img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .text{
      position:absolute;
      bottom:18px;
      left:18px;
      background:rgba(0,0,0,.45);
      padding:8px 14px;
      border-radius:8px;
      color:#fff;
      font-weight:600;
    }

    /* ---------- PROMOCIONES ---------- */
    .promociones{
      padding:28px 16px;
    }
    .promociones h2{
      max-width:1200px;
      margin:0 auto 12px;
      color:var(--guinda-2);
    }
    .promo-container{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:16px;
      max-width:1200px;
      margin:0 auto;
    }
    .promo-card{
      background:var(--panel);
      border-radius:10px;
      padding:12px;
      box-shadow:var(--shadow);
      text-align:center;
    }
    .promo-card img{
      width:100%;
      height:140px;
      object-fit:cover;
      border-radius:8px;
    }
    .promo-card h3{
      margin:8px 0;
      color:#fff;
    }
    .promo-card .precio{
      color:var(--guinda-2);
      font-weight:700;
    }

    /* ---------- CATÁLOGO ---------- */
    .catalogo{
      padding:28px 16px;
    }
    .catalogo h2{
      max-width:1200px;
      margin:0 auto 12px;
      color:var(--guinda-2);
    }
    .catalogo .container{
      display:grid;
      grid-template-columns:280px 1fr;
      gap:20px;
      max-width:1200px;
      margin:0 auto;
    }
    .sidebar{
      background:#0f0f0f;
      padding:16px;
      border-radius:10px;
      box-shadow:var(--shadow);
    }
    .sidebar h2{
      margin:0 0 12px;
      color:#fff;
    }
    .motos-list{
      list-style:none;
      padding:0;
      margin:0;
      display:grid;
      gap:10px;
    }
    .moto-item{
      display:flex;
      gap:12px;
      align-items:center;
      background:rgba(255,255,255,.02);
      padding:8px;
      border-radius:8px;
      cursor:pointer;
      transition:transform .12s,background .12s;
    }
    .moto-item img{
      width:56px;
      height:40px;
      object-fit:cover;
      border-radius:6px;
    }
    .moto-name{
      font-weight:600;
      color:#fff;
    }
    .moto-item:hover{
      transform:translateY(-3px);
      background:rgba(255,255,255,.04);
    }
    .moto-item.active{
      outline:2px solid var(--guinda);
      background:rgba(123,30,30,.06);
    }
    .sidebar input[type="text"]{
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:2px solid var(--guinda);
      outline:none;
      margin:12px 0 18px;
      background:#0b0b0b;
      color:#fff;
    }

    #lista-catalogo{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
      gap:18px;
      padding:10px;
    }

    .despiece-seccion{
      background:transparent;
      padding:6px 0;
    }
    .despiece-seccion h3{
      margin:0 0 8px;
      color:var(--guinda-2);
    }
    .despiece-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
      gap:12px;
    }
    .pieza{
      background:var(--card);
      border-radius:8px;
      padding:10px;
      text-align:center;
      cursor:pointer;
      box-shadow:0 4px 12px rgba(0,0,0,.45);
      transition:transform .15s,box-shadow .15s;
    }
    .pieza img{
      width:100%;
      height:120px;
      object-fit:contain;
      border-radius:6px;
      background:#fff;
      padding:6px;
    }
    .pieza p{
      margin:8px 0 4px;
      color:#fff;
      font-weight:600;
    }
    .pieza small{
      color:#aaa;
    }
    .pieza:hover{
      transform:translateY(-6px);
      box-shadow:0 10px 30px rgba(0,0,0,.6);
    }

    /* ---------- MODAL ---------- */
    .modal-catalogo{
      display:none;
      position:fixed;
      z-index:2000;
      left:0;
      top:0;
      width:100%;
      height:100%;
      overflow:auto;
      background-color:rgba(0,0,0,.8);
    }
    .modal-content{
      background:#121212;
      margin:48px auto;
      padding:18px;
      border-radius:10px;
      max-width:900px;
      color:#eee;
      box-shadow:var(--shadow);
    }
    .modal-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .modal-close{
      cursor:pointer;
      font-size:1.4rem;
      font-weight:700;
    }
    .modal-productos{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
      gap:15px;
      margin-top:16px;
    }
    .modal-producto{
      background:#1d1d1d;
      border-radius:8px;
      padding:10px;
      text-align:center;
    }
    .modal-producto img{
      width:100%;
      height:150px;
      object-fit:cover;
      border-radius:5px;
    }

    /* ---------- PIZARRÓN / CONTACTO / FOOTER ---------- */
    .pizarron,
    .contacto{
      padding:28px 16px;
    }
    .fotos{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      max-width:1200px;
      margin:0 auto;
    }
    .foto img{
      width:220px;
      height:150px;
      object-fit:cover;
      border-radius:8px;
      box-shadow:0 6px 18px rgba(0,0,0,.6);
    }
    #contact-form{
      max-width:800px;
      margin:0 auto;
      display:grid;
      gap:10px;
    }
    #contact-form input,
    #contact-form textarea{
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.06);
      background:#0b0b0b;
      color:#fff;
      resize:vertical;
    }
    #contact-form button{
      background:var(--guinda);
      color:#fff;
      padding:10px;
      border-radius:8px;
      border:none;
      cursor:pointer;
      font-weight:700;
    }
    .whatsapp-btn{
      display:inline-block;
      background-color:#25D366;
      color:white;
      padding:12px 20px;
      border-radius:25px;
      text-decoration:none;
      font-weight:700;
    }

    /* ---------- RESPONSIVE ---------- */
    @media (max-width:900px){
      .catalogo .container{grid-template-columns:1fr;}
      .sidebar{order:2;}
      .moto-item img{width:48px;height:34px;}
      .slider{height:20vh;}
    }
    @media (min-width:1200px){
      #lista-catalogo{
        grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
      }
    }
  </style>
</head>

<body>

  <!-- ---------- NAVBAR ---------- -->
  <header class="navbar">
    <div class="logo">
      <img src="images/logo/logo.png"
           alt="Logo de JQ Motors"
           onerror="this.style.display='none'">
      <h1>JQ Motors</h1>
    </div>
    <nav aria-label="Menú principal">
      <ul>
        <li><a href="#inicio" class="active">Inicio</a></li>
        <li><a href="#catalogo">Catálogo</a></li>
        <li><a href="#promociones">Promociones</a></li>
        <li><a href="#recuerdos">Pizarrón</a></li>
        <li><a href="#contacto">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <!-- ---------- SLIDER ---------- -->
  <section id="inicio" class="slider" aria-label="Galería de imágenes">
    <div class="slide active">
      <img src="images/portada/slide1.jpg"
           alt="Portada principal"
           onerror="this.src='images/portada/slide1.jpg'">
    </div>
    <div class="slide">
      <img src="images/portada/n250.jpg"
           alt="Moto N250"
           onerror="this.src='images/portada/n250.jpg'">
    </div>
    <div class="slide">
      <img src="images/portada/ns200.jpg"
           alt="Moto NS 200"
           onerror="this.src='images/portada/ns200.jpg'">
    </div>
    <div class="slide">
      <img src="images/portada/dominar400.jpg"
           alt="Moto Dominar 400"
           onerror="this.src='images/portada/dominar400.jpg'">
    </div>
    <div class="text">Refacciones y servicio — JQ Motors</div>
  </section>

  <!-- ---------- PROMOCIONES ---------- -->
  <section id="promociones" class="promociones">
  <h2>Promociones Especiales</h2>
  <div class="promo-container">
    <div class="promo-card">
      <img src="./images/promociones/promo1.jpg"
           alt="Descuento en refacciones"
           onerror="this.src='./images/placeholder.png'">
      <h3>Descuento en refacciones</h3>
      <p class="precio">DE $630 A $500 MXN</p>
    </div>
    <div class="promo-card">
      <img src="./images/promociones/promo2.jpg"
           alt="Mantenimiento gratuito"
           onerror="this.src='./images/placeholder.png'">
      <h3>Mantenimiento gratuito</h3>
      <p class="precio">Gratis</p>
    </div>
  </div>
</section>


  <!-- ---------- CATÁLOGO ---------- -->
  <section id="catalogo" class="catalogo">
    <h2>Catálogo de Refacciones</h2>
    <div class="container">
      <aside class="sidebar" aria-label="Filtro de modelos">
        <h2>Modelos Bajaj</h2>
        <input id="buscador"
               type="text"
               placeholder="Buscar modelo o pieza..."
               aria-label="Buscar modelo o pieza">
        <ul class="motos-list" id="motos-list"></ul>
      </aside>

      <section aria-label="Listado de piezas">
        <div id="lista-catalogo"></div>
      </section>
    </div>
  </section>

  <!-- ---------- PIZARRÓN ---------- -->
  <section id="recuerdos" class="pizarron">
    <h2>Pizarrón</h2>
    <p style="max-width:1200px;margin:0 auto 12px;color:#bbb">
      Comparte tus experiencias y fotos con tu Bajaj.
    </p>
    <div class="fotos">
      <div class="foto"><img src="images/pizarron/placeholder.png"
                              alt="Foto compartida 1"
                              onerror="this.src='images/pizarron/placeholder.png'"></div>
      <div class="foto"><img src="images/pizarron/placeholder.png"
                              alt="Foto compartida 2"
                              onerror="this.src='images/pizarron/placeholder.png'"></div>
    </div>
  </section>

  <!-- ---------- CONTACTO ---------- -->
  <section id="contacto" class="contacto">
    <h2>Contacto</h2>
    <form id="contact-form" novalidate>
      <input type="text"
             name="nombre"
             placeholder="Nombre"
             required
             aria-required="true">
      <input type="email"
             name="email"
             placeholder="Correo electrónico"
             required
             aria-required="true">
      <textarea name="mensaje"
                placeholder="Escribe tu mensaje"
                required
                aria-required="true"></textarea>
      <button type="submit">Enviar</button>
    </form>
  </section>

  <!-- ---------- MODAL ---------- -->
  <div id="modal"
       class="modal-catalogo"
       aria-hidden="true"
       role="dialog"
       aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-titulo">Detalle</h2>
        <div id="modal-cerrar" class="modal-close" aria-label="Cerrar ventana modal">✕</div>
      </div>
      <div id="modal-productos" class="modal-productos"></div>
    </div>
  </div>

  <!-- ---------- FOOTER ---------- -->
  <footer style="padding:18px;text-align:center;border-top:1px solid rgba(255,255,255,.03);margin-top:18px">
    <p style="margin:4px;color:#bbb">¿Necesitas ayuda? Contáctanos.</p>
    <a class="whatsapp-btn"
       href="https://wa.me/521XXXXXXXXXX"
       target="_blank"
       rel="noopener"
       aria-label="WhatsApp JQ Motors">WhatsApp</a>
    <p style="margin-top:8px;color:#666;font-size:12px">© JQ Motors</p>
  </footer>

  <!-- ---------- SCRIPTS ---------- -->
  <script>
  /*  ====  SLIDER  ====  */
  (function(){
    const slides = document.querySelectorAll('.slide');
    let idx = 0;
    if (!slides.length) return;

    setInterval(()=>{
      slides[idx].classList.remove('active');
      idx = (idx + 1) % slides.length;
      slides[idx].classList.add('active');
    },4000);
  })();

  /*  ====  CATÁLOGO & MODAL  ====  */
  (function(){
    const motosList      = document.getElementById('motos-list');
    const listaCatalogo = document.getElementById('lista-catalogo');
    const buscador       = document.getElementById('buscador');
    const modal          = document.getElementById('modal');
    const modalTitulo    = document.getElementById('modal-titulo');
    const modalProductos = document.getElementById('modal-productos');
    const modalCerrar    = document.getElementById('modal-cerrar');

    let datosCatalogo = {};

    /* --- Cargar catalogo.json --- */
    fetch('catalogo/catalogo.json')
      .then(r => {
        if (!r.ok) throw new Error('Error al cargar catalogo.json');
        return r.json();
      })
      .then(json => {
        datosCatalogo = json;
        initCatalogo();
      })
      .catch(err => {
        console.error(err);
        // Fallback de datos mínimos
        datosCatalogo = {
          "ns-200": {
            "nombre":"NS 200",
            "secciones":[
              {
                "titulo":"Motor",
                "piezas":[
                  {"id":"p1","nombre":"Junta cabeza","img":"images/catalogo/placeholder.png","codigo":"NS200-CAB-01"}
                ]
              }
            ]
          },
          "n250": {
            "nombre":"N250",
            "secciones":[
              {
                "titulo":"Frenos",
                "piezas":[
                  {"id":"p2","nombre":"Disco freno","img":"images/catalogo/placeholder.png","codigo":"N250-DF-01"}
                ]
              }
            ]
          }
        };
        initCatalogo();
      });

    /* --- Inicia UI del catálogo --- */
    function initCatalogo(){
      renderMotosSidebar();
      // Selecciona “Todos” por defecto
      const first = document.querySelector('.moto-item');
      if (first) first.click();
    }

    /* --- Sidebar con modelos --- */
    function renderMotosSidebar(){
      motosList.innerHTML = '';

      /* 1️⃣  “Todos” */
      const liAll = document.createElement('li');
      liAll.className = 'moto-item active';
      liAll.dataset.model = 'todos';
      liAll.innerHTML = `
        <img src="images/portada/slide1.jpg"
             alt="Todos"
             onerror="this.src='images/moto-placeholder.png'">
        <div class="moto-name">Todos</div>`;
      liAll.addEventListener('click',()=>{ selectMoto(liAll,'todos'); mostrarTodos(); });
      motosList.appendChild(liAll);

      /* 2️⃣  Cada modelo del JSON */
      Object.keys(datosCatalogo).forEach(key=>{
        const modelo = datosCatalogo[key];
        const li = document.createElement('li');
        li.className = 'moto-item';
        li.dataset.model = key;

        /* Imagen tentativa – fallback a un placeholder */
        let imgPath = `images/motos/${key}.jpg`;
        if (key === 'n250') imgPath = 'images/portada/n250.jpg';
        if (key.includes('ns')) imgPath = 'images/portada/ns200.jpg';
        if (key.toLowerCase().includes('dominar')) imgPath = 'images/portada/dominar400.jpg';

        li.innerHTML = `
          <img src="${imgPath}"
               alt="${modelo.nombre}"
               onerror="this.src='images/moto-placeholder.png'">
          <div class="moto-name">${modelo.nombre}</div>`;
        li.addEventListener('click',()=>{ selectMoto(li,key); mostrarManual(key); });
        motosList.appendChild(li);
      });
    }

    function selectMoto(el, key){
      document.querySelectorAll('.moto-item').forEach(x=>x.classList.remove('active'));
      el.classList.add('active');
      if (window.innerWidth < 900){
        listaCatalogo.scrollIntoView({behavior:'smooth'});
      }
    }

    /* --- Mostrar todo --- */
    function mostrarTodos(){
      listaCatalogo.innerHTML = '';
      Object.keys(datosCatalogo).forEach(k=>{
        const modelo = datosCatalogo[k];
        modelo.secciones.forEach(sec=>appendSection(k,sec));
      });
    }

    /* --- Mostrar solo un modelo --- */
    function mostrarManual(modelKey){
      const data = datosCatalogo[modelKey];
      if (!data){
        listaCatalogo.innerHTML = '<p style="color:#bbb">Modelo no encontrado.</p>';
        return;
      }
      listaCatalogo.innerHTML = '';
      const titulo = document.createElement('div');
      titulo.className = 'despiece-seccion';
      titulo.innerHTML = `<h3>${data.nombre} — Manual de despiece</h3>
                         <p style="color:#bbb;margin-top:6px">Selecciona una pieza para ver detalles.</p>`;
      listaCatalogo.appendChild(titulo);
      data.secciones.forEach(sec=>appendSection(modelKey,sec));
    }

    /* --- Cada sección de piezas --- */
function appendSection(modelKey, sec){
  const secWrap = document.createElement('div');
  secWrap.className = 'despiece-seccion';
  secWrap.innerHTML = `<h3>${sec.titulo}</h3>`;

  const grid = document.createElement('div');
  grid.className = 'despiece-grid';

  (sec.piezas || []).forEach(p => {
    const pieza = document.createElement('div');
    pieza.className = 'pieza';
    pieza.dataset.id = p.id || (p.codigo || Math.random().toString(36).slice(2));

    const imgSrc = p.img && p.img.trim()
      ? p.img
      : 'images/catalogo/placeholder.png';

    pieza.innerHTML = `
      <img src="${imgSrc}" alt="${p.nombre}" 
           onerror="this.src='images/catalogo/placeholder.png'">
      <p>${p.nombre}</p>
      <small>${p.codigo || ''}</small>
    `;

    pieza.addEventListener('click', () => {
      abrirModal(modelKey, p.nombre, imgSrc, p.codigo);
    });

    grid.appendChild(pieza);
  });

  secWrap.appendChild(grid);
  listaCatalogo.appendChild(secWrap);
}

/* --- Modal --- */
function abrirModal(modelKey, titulo, img, codigo){
  modalTitulo.textContent = titulo;
  modalProductos.innerHTML = `
    <div class="modal-producto">
      <img src="${img}" 
           alt="${titulo}"
           onerror="this.src='images/catalogo/placeholder.png'">
      <p style="margin-top:10px;font-weight:600">${titulo}</p>
      <small style="color:#ccc">${codigo || ''}</small>
    </div>
  `;

  modal.style.display = 'block';
}

modalCerrar.addEventListener('click', () => {
  modal.style.display = 'none';
});

window.addEventListener('click', e => {
  if (e.target === modal) modal.style.display = 'none';
});

/* --- Buscador --- */
buscador.addEventListener('input', e => {
  const valor = e.target.value.toLowerCase().trim();

  document.querySelectorAll('.pieza').forEach(card => {
    const nombre = card.querySelector('p').textContent.toLowerCase();
    card.style.display = nombre.includes(valor) ? '' : 'none';
  });
});

